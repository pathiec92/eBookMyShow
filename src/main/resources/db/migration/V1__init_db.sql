CREATE TABLE city
(
    id   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR(255),
    CONSTRAINT pk_city PRIMARY KEY (id)
);

CREATE TABLE screen
(
    id         BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name       VARCHAR(255),
    theatre_id BIGINT,
    CONSTRAINT pk_screen PRIMARY KEY (id)
);

CREATE TABLE theatre
(
    id      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name    VARCHAR(255),
    address VARCHAR(255),
    city_id BIGINT,
    CONSTRAINT pk_theatre PRIMARY KEY (id)
);

ALTER TABLE screen
    ADD CONSTRAINT FK_SCREEN_ON_THEATRE FOREIGN KEY (theatre_id) REFERENCES theatre (id) ON DELETE CASCADE;

ALTER TABLE theatre
    ADD CONSTRAINT FK_THEATRE_ON_CITY FOREIGN KEY (city_id) REFERENCES city (id) ON DELETE CASCADE;